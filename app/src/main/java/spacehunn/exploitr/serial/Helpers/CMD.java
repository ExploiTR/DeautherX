package spacehunn.exploitr.serial.Helpers;

import android.widget.EditText;
import android.widget.Spinner;

public class CMD {
    private static String t, cx, ch;

    public static String getScanCMD(Spinner spaw, EditText a, EditText b, EditText c) {
        if (!checkA(a)) {
            t = "15000";
        } else {
            t = String.valueOf(Integer.parseInt(a.getText().toString()) * 1000);
        }

        if (checkB(b)) {
            cx = "15";
        } else {
            cx = b.getText().toString();
        }

        if (!checkC(c)) {
            return "scan " + scanMode(spaw.getSelectedItemPosition()) + " -t " + t + " -c " + cx;
        } else {
            ch = c.getText().toString();
            return "scan " + scanMode(spaw.getSelectedItemPosition()) + " -t " + t + " -c " + cx + " -ch " + ch;
        }
    }

    private static boolean checkA(EditText a) {
        return !a.getText().toString().equals("");
    }

    private static boolean checkB(EditText b) {
        return b.getText().toString().equals("");
    }

    private static boolean checkC(EditText c) {
        return (!c.getText().toString().equals("")) && Integer.parseInt(c.getText().toString()) > 0 && Integer.parseInt(c.getText().toString()) <= 13;
    }

    private static String scanMode(int z) {
        switch (z) {
            case 0: {
                return "-a";
            }
            case 1: {
                return "-ap";
            }
            case 2: {
                return "-st";
            }
            case 3: {
                return "-w";
            }
            default: {
                return "-a";
            }
        }
    }
}
